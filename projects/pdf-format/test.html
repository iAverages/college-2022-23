<div>&lt;pre&gt;import { httpBatchLink, loggerLink } from &amp;quot;@trpc/client&amp;quot;;
import { createTRPCNext } from &amp;quot;@trpc/next&amp;quot;;
import { type inferRouterInputs, type inferRouterOutputs } from &amp;quot;@trpc/server&amp;quot;;
import superjson from &amp;quot;superjson&amp;quot;;

import { type AppRouter } from &amp;quot;../server/trpc/router/_app&amp;quot;;

const getBaseUrl = () =&amp;gt; {
    if (typeof window !== &amp;quot;undefined&amp;quot;) return &amp;quot;&amp;quot;; // browser should use relative url
    if (process.env.VERCEL_URL) return `https://${process.env.VERCEL_URL}`; // SSR should use vercel url
    return `http://localhost:${process.env.PORT ?? 3000}`; // dev SSR should use localhost
};

export const trpc = createTRPCNext&amp;lt;AppRouter&amp;gt;({
    config() {
        return {
            transformer: superjson,
            links: [
                loggerLink({
                    enabled: (opts) =&amp;gt;
                        process.env.NODE_ENV === &amp;quot;development&amp;quot; ||
                        (opts.direction === &amp;quot;down&amp;quot; &amp;amp;&amp;amp; opts.result instanceof Error),
                }),
                httpBatchLink({
                    url: `${getBaseUrl()}/api/trpc`,
                }),
            ],
        };
    },
    ssr: false,
});

/**
 * Inference helper for inputs
 * @example type HelloInput = RouterInputs[&amp;#x27;example&amp;#x27;][&amp;#x27;hello&amp;#x27;]
 **/
export type RouterInputs = inferRouterInputs&amp;lt;AppRouter&amp;gt;;
/**
 * Inference helper for outputs
 * @example type HelloOutput = RouterOutputs[&amp;#x27;example&amp;#x27;][&amp;#x27;hello&amp;#x27;]
 **/
export type RouterOutputs = inferRouterOutputs&amp;lt;AppRouter&amp;gt;;
&lt;/pre&gt;</div>